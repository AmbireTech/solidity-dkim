{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport Dropzone from \"react-dropzone\";\nimport Metamask from \"./components/MetaMask\";\nimport eth from \"./stores/eth\";\nimport { InsertDriveFileOutlined, AttachFile } from \"@material-ui/icons\";\nimport parseEmail from \"./parse-email/browser\";\nimport toSolidity from \"./parse-email/utils/toSolidity\";\n\nvar verify = function verify(email) {\n  return new _Promise(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var DKIM, dkims, dkimsInBytes, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return eth.getContract(\"DKIM\")[\"catch\"](reject);\n\n            case 2:\n              DKIM = _context.sent;\n              _context.next = 5;\n              return parseEmail(email);\n\n            case 5:\n              dkims = _context.sent;\n              dkimsInBytes = dkims.map(function (dkim) {\n                return toSolidity({\n                  algorithm: dkim.algorithm,\n                  hash: dkim.hash,\n                  signature: dkim.signature.signature,\n                  exponent: dkim.exponent,\n                  modulus: dkim.modulus\n                });\n              });\n              result = _Promise.all(dkimsInBytes.map(function (dkim, i) {\n                return DKIM.verify(dkim.algorithm, dkim.hash, dkim.signature, dkim.exponent, dkim.modulus).then(function (res) {\n                  return {\n                    name: dkims[i].entry.name,\n                    verified: res[\"0\"]\n                  };\n                });\n              }))[\"catch\"](reject);\n              return _context.abrupt(\"return\", resolve(result));\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar Home = observer(function () {\n  var _useState = useState(null),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState([]),\n      verified = _useState3[0],\n      setVerified = _useState3[1];\n\n  var _useState4 = useState(false),\n      dragging = _useState4[0],\n      setDrag = _useState4[1];\n\n  var disabled = !eth.isInstalled || !(eth.network === \"sepolia\" || eth.network === \"unknown network\");\n  var onDrop = useCallback(function (files) {\n    setEmail(null);\n    setError(null);\n    setVerified([]);\n\n    if (files.length < 1) {\n      return setError(\"no file included\");\n    }\n\n    var file = files[0];\n    var reader = new FileReader();\n\n    reader.onabort = function () {\n      return setError(\"file reading was aborted\");\n    };\n\n    reader.onerror = function () {\n      return setError(\"file reading has failed\");\n    };\n\n    reader.onload = function () {\n      return setEmail(reader.result);\n    };\n\n    reader.readAsText(file);\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"container\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n  }, \"solidity-dkim demo\"), __jsx(Metamask, null), __jsx(Dropzone, {\n    onDrop: onDrop,\n    multiple: false,\n    onDragEnter: function onDragEnter() {\n      return setDrag(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDrag(false);\n    }\n  }, function (_ref2) {\n    var getRootProps = _ref2.getRootProps,\n        getInputProps = _ref2.getInputProps;\n    return __jsx(\"section\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    }, __jsx(\"div\", _extends({}, getRootProps({\n      style: {\n        width: \"50vw\",\n        height: \"30vh\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        display: \"flex\",\n        border: dragging || email ? \"3px solid #387fc7\" : \"3px dashed #387fc7\",\n        backgroundColor: \"white\",\n        margin: \"50px\",\n        borderRadius: \"3px\",\n        cursor: \"pointer\"\n      }\n    }), {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    }), __jsx(\"input\", _extends({}, getInputProps(), {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    })), email ? __jsx(\"div\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"fileUploaded\"\n    }, __jsx(InsertDriveFileOutlined, {\n      style: {\n        height: \"8vh\",\n        width: \"auto\",\n        color: \"#397ec7\"\n      }\n    }), \" \", \"FILE LOADED\") : __jsx(\"div\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"fileUploaded\"\n    }, __jsx(AttachFile, {\n      style: {\n        height: \"8vh\",\n        width: \"auto\",\n        color: \"#397ec7\"\n      }\n    }), __jsx(\"p\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    }, \"Drag 'n' drop some files here, or click to select files\"))));\n  }), __jsx(\"button\", {\n    onClick: function onClick() {\n      return verify(email).then(setVerified)[\"catch\"](setError);\n    },\n    disabled: disabled,\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n  }, \"Verify\"), error ? __jsx(\"p\", {\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"error\"\n  }, \"error: \", error) : verified.length > 0 ? verified.map(function (result) {\n    return result.verified ? __jsx(\"h1\", {\n      key: result.name,\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"verified\"\n    }, result.name, \": verified! \\uD83C\\uDF89\") : __jsx(\"h1\", {\n      key: result.name,\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"not-verified\"\n    }, result.name, \": not verified \\uD83D\\uDE14\");\n  }) : \"\", __jsx(_JSXStyle, {\n    id: \"2659604651\"\n  }, \"body{margin:0;padding:0;font-family:sans-serif;color:#003c7d;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2VzdG9qbm92c2t5L0Rldi9BbWJpcmUvZGttaS9zb2xpZGl0eS1ka2ltL2NsaWVudC9zcmMvSG9tZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUp5QixBQUdvQixTQUNDLFVBQ2EsdUJBQ1QsY0FDaEIiLCJmaWxlIjoiL2hvbWUvZXN0b2pub3Zza3kvRGV2L0FtYmlyZS9ka21pL3NvbGlkaXR5LWRraW0vY2xpZW50L3NyYy9Ib21lLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgb2JzZXJ2ZXIgfSBmcm9tIFwibW9ieC1yZWFjdFwiO1xuaW1wb3J0IERyb3B6b25lIGZyb20gXCJyZWFjdC1kcm9wem9uZVwiO1xuaW1wb3J0IE1ldGFtYXNrIGZyb20gXCIuL2NvbXBvbmVudHMvTWV0YU1hc2tcIjtcbmltcG9ydCBldGggZnJvbSBcIi4vc3RvcmVzL2V0aFwiO1xuaW1wb3J0IHsgSW5zZXJ0RHJpdmVGaWxlT3V0bGluZWQsIEF0dGFjaEZpbGUgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zXCI7XG5pbXBvcnQgcGFyc2VFbWFpbCBmcm9tIFwiLi9wYXJzZS1lbWFpbC9icm93c2VyXCI7XG5pbXBvcnQgdG9Tb2xpZGl0eSBmcm9tIFwiLi9wYXJzZS1lbWFpbC91dGlscy90b1NvbGlkaXR5XCI7XG5cbmNvbnN0IHZlcmlmeSA9IChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBES0lNID0gYXdhaXQgZXRoLmdldENvbnRyYWN0KFwiREtJTVwiKS5jYXRjaChyZWplY3QpO1xuXG4gICAgY29uc3QgZGtpbXMgPSBhd2FpdCBwYXJzZUVtYWlsKGVtYWlsKTtcblxuICAgIGNvbnN0IGRraW1zSW5CeXRlcyA9IGRraW1zLm1hcChka2ltID0+IHtcbiAgICAgIHJldHVybiB0b1NvbGlkaXR5KHtcbiAgICAgICAgYWxnb3JpdGhtOiBka2ltLmFsZ29yaXRobSxcbiAgICAgICAgaGFzaDogZGtpbS5oYXNoLFxuICAgICAgICBzaWduYXR1cmU6IGRraW0uc2lnbmF0dXJlLnNpZ25hdHVyZSxcbiAgICAgICAgZXhwb25lbnQ6IGRraW0uZXhwb25lbnQsXG4gICAgICAgIG1vZHVsdXM6IGRraW0ubW9kdWx1c1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBQcm9taXNlLmFsbChcbiAgICAgIGRraW1zSW5CeXRlcy5tYXAoKGRraW0sIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIERLSU0udmVyaWZ5KFxuICAgICAgICAgIGRraW0uYWxnb3JpdGhtLFxuICAgICAgICAgIGRraW0uaGFzaCxcbiAgICAgICAgICBka2ltLnNpZ25hdHVyZSxcbiAgICAgICAgICBka2ltLmV4cG9uZW50LFxuICAgICAgICAgIGRraW0ubW9kdWx1c1xuICAgICAgICApLnRoZW4ocmVzID0+ICh7XG4gICAgICAgICAgbmFtZTogZGtpbXNbaV0uZW50cnkubmFtZSxcbiAgICAgICAgICB2ZXJpZmllZDogcmVzW1wiMFwiXVxuICAgICAgICB9KSk7XG4gICAgICB9KVxuICAgICkuY2F0Y2gocmVqZWN0KTtcblxuICAgIHJldHVybiByZXNvbHZlKHJlc3VsdCk7XG4gIH0pO1xufTtcblxuY29uc3QgSG9tZSA9IG9ic2VydmVyKCgpID0+IHtcbiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3ZlcmlmaWVkLCBzZXRWZXJpZmllZF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtkcmFnZ2luZywgc2V0RHJhZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGRpc2FibGVkID1cbiAgICAhZXRoLmlzSW5zdGFsbGVkIHx8XG4gICAgIShldGgubmV0d29yayA9PT0gXCJzZXBvbGlhXCIgfHwgZXRoLm5ldHdvcmsgPT09IFwidW5rbm93biBuZXR3b3JrXCIpO1xuXG4gIGNvbnN0IG9uRHJvcCA9IHVzZUNhbGxiYWNrKGZpbGVzID0+IHtcbiAgICBzZXRFbWFpbChudWxsKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBzZXRWZXJpZmllZChbXSk7XG5cbiAgICBpZiAoZmlsZXMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuIHNldEVycm9yKFwibm8gZmlsZSBpbmNsdWRlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgZmlsZSA9IGZpbGVzWzBdO1xuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgIHJlYWRlci5vbmFib3J0ID0gKCkgPT4gc2V0RXJyb3IoXCJmaWxlIHJlYWRpbmcgd2FzIGFib3J0ZWRcIik7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiBzZXRFcnJvcihcImZpbGUgcmVhZGluZyBoYXMgZmFpbGVkXCIpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiBzZXRFbWFpbChyZWFkZXIucmVzdWx0KTtcblxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPGgyPnNvbGlkaXR5LWRraW0gZGVtbzwvaDI+XG5cbiAgICAgIDxNZXRhbWFzayAvPlxuICAgICAgPERyb3B6b25lXG4gICAgICAgIG9uRHJvcD17b25Ecm9wfVxuICAgICAgICBtdWx0aXBsZT17ZmFsc2V9XG4gICAgICAgIG9uRHJhZ0VudGVyPXsoKSA9PiBzZXREcmFnKHRydWUpfVxuICAgICAgICBvbkRyYWdMZWF2ZT17KCkgPT4gc2V0RHJhZyhmYWxzZSl9XG4gICAgICA+XG4gICAgICAgIHsoeyBnZXRSb290UHJvcHMsIGdldElucHV0UHJvcHMgfSkgPT4gKFxuICAgICAgICAgIDxzZWN0aW9uPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICB7Li4uZ2V0Um9vdFByb3BzKHtcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiNTB2d1wiLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjMwdmhcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOlxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZyB8fCBlbWFpbFxuICAgICAgICAgICAgICAgICAgICAgID8gXCIzcHggc29saWQgIzM4N2ZjN1wiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIjNweCBkYXNoZWQgIzM4N2ZjN1wiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICBtYXJnaW46IFwiNTBweFwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjNweFwiLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dCB7Li4uZ2V0SW5wdXRQcm9wcygpfSAvPlxuICAgICAgICAgICAgICB7ZW1haWwgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlVXBsb2FkZWRcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnNlcnREcml2ZUZpbGVPdXRsaW5lZFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IFwiOHZoXCIsIHdpZHRoOiBcImF1dG9cIiwgY29sb3I6IFwiIzM5N2VjN1wiIH19XG4gICAgICAgICAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgIEZJTEUgTE9BREVEXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlVXBsb2FkZWRcIj5cbiAgICAgICAgICAgICAgICAgIDxBdHRhY2hGaWxlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogXCI4dmhcIiwgd2lkdGg6IFwiYXV0b1wiLCBjb2xvcjogXCIjMzk3ZWM3XCIgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8cD5EcmFnICduJyBkcm9wIHNvbWUgZmlsZXMgaGVyZSwgb3IgY2xpY2sgdG8gc2VsZWN0IGZpbGVzPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICApfVxuICAgICAgPC9Ecm9wem9uZT5cblxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgIHZlcmlmeShlbWFpbClcbiAgICAgICAgICAgIC50aGVuKHNldFZlcmlmaWVkKVxuICAgICAgICAgICAgLmNhdGNoKHNldEVycm9yKVxuICAgICAgICB9XG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgID5cbiAgICAgICAgVmVyaWZ5XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIHtlcnJvciA/IChcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiZXJyb3JcIj5lcnJvcjoge2Vycm9yfTwvcD5cbiAgICAgICkgOiB2ZXJpZmllZC5sZW5ndGggPiAwID8gKFxuICAgICAgICB2ZXJpZmllZC5tYXAocmVzdWx0ID0+XG4gICAgICAgICAgcmVzdWx0LnZlcmlmaWVkID8gKFxuICAgICAgICAgICAgPGgxIGtleT17cmVzdWx0Lm5hbWV9IGNsYXNzTmFtZT1cInZlcmlmaWVkXCI+XG4gICAgICAgICAgICAgIHtyZXN1bHQubmFtZX06IHZlcmlmaWVkISDwn46JXG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8aDEga2V5PXtyZXN1bHQubmFtZX0gY2xhc3NOYW1lPVwibm90LXZlcmlmaWVkXCI+XG4gICAgICAgICAgICAgIHtyZXN1bHQubmFtZX06IG5vdCB2ZXJpZmllZCDwn5iUXG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSA6IChcbiAgICAgICAgXCJcIlxuICAgICAgKX1cblxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gICAgICAgICAgY29sb3I6ICMwMDNjN2Q7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cblxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgICAgICAgd2lkdGg6IDEwMHZ3O1xuICAgICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgICAgYmFja2dyb3VuZDogYWxpY2VibHVlO1xuICAgICAgICB9XG4gICAgICAgIGgyIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxMDBweDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICB9XG4gICAgICAgIGgxIHtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24ge1xuICAgICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgICB3aWR0aDogMTIwcHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgIGJhY2tncm91bmQ6ICMzOTdlYzc7XG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIG9wYWNpdHk6ICR7ZGlzYWJsZWQgPyBcIjAuNVwiIDogXCIxXCJ9O1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvciB7XG4gICAgICAgICAgY29sb3I6ICNkNjAwMDA7XG4gICAgICAgIH1cbiAgICAgICAgLnZlcmlmaWVkIHtcbiAgICAgICAgICBjb2xvcjogIzAwYmIzOTtcbiAgICAgICAgfVxuICAgICAgICAubm90LXZlcmlmaWVkIHtcbiAgICAgICAgICBjb2xvcjogI2Q2MDAwMDtcbiAgICAgICAgfVxuICAgICAgICAuZmlsZVVwbG9hZGVkIHtcbiAgICAgICAgICBoZWlnaHQ6IDEydmg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBIb21lO1xuIl19 */\\n/*@ sourceURL=/home/estojnovsky/Dev/Ambire/dkmi/solidity-dkim/client/src/Home.tsx */\"), __jsx(_JSXStyle, {\n    id: \"4003161\",\n    dynamic: [disabled ? \"0.5\" : \"1\"]\n  }, \".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100vw;height:100vh;background:aliceblue;}h2.__jsx-style-dynamic-selector{margin-top:100px;margin-bottom:30px;}button.__jsx-style-dynamic-selector{height:30px;width:120px;border-radius:3px;background:#397ec7;color:white;border:none;font-family:sans-serif;font-size:16px;cursor:pointer;opacity:\".concat(disabled ? \"0.5\" : \"1\", \";}.error.__jsx-style-dynamic-selector{color:#d60000;}.verified.__jsx-style-dynamic-selector{color:#00bb39;}.not-verified.__jsx-style-dynamic-selector{color:#d60000;}.fileUploaded.__jsx-style-dynamic-selector{height:12vh;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2VzdG9qbm92c2t5L0Rldi9BbWJpcmUvZGttaS9zb2xpZGl0eS1ka2ltL2NsaWVudC9zcmMvSG9tZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0trQixBQUd3QixBQVNJLEFBTUwsQUFZRSxBQUdBLEFBR0EsQUFHRixZQXBCQSxBQXFCVyxFQVR6QixBQUdBLEFBR0EsR0F4QnFCLE9BT0QsWUFOcEIsTUFPcUIsbUJBQ1AsWUFDQSxDQW5CVSxXQW9CQyx1QkFDUixHQWdCSSxZQWZKLGVBQ3NCLGNBdEJsQix1QkF1QnJCLDZCQWNlLHlDQXBDYyxpQ0FxQ0wsd0VBcENWLE1BcUNkLE1BcENlLGFBQ1EscUJBQ3ZCIiwiZmlsZSI6Ii9ob21lL2VzdG9qbm92c2t5L0Rldi9BbWJpcmUvZGttaS9zb2xpZGl0eS1ka2ltL2NsaWVudC9zcmMvSG9tZS50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSBcIm1vYngtcmVhY3RcIjtcbmltcG9ydCBEcm9wem9uZSBmcm9tIFwicmVhY3QtZHJvcHpvbmVcIjtcbmltcG9ydCBNZXRhbWFzayBmcm9tIFwiLi9jb21wb25lbnRzL01ldGFNYXNrXCI7XG5pbXBvcnQgZXRoIGZyb20gXCIuL3N0b3Jlcy9ldGhcIjtcbmltcG9ydCB7IEluc2VydERyaXZlRmlsZU91dGxpbmVkLCBBdHRhY2hGaWxlIH0gZnJvbSBcIkBtYXRlcmlhbC11aS9pY29uc1wiO1xuaW1wb3J0IHBhcnNlRW1haWwgZnJvbSBcIi4vcGFyc2UtZW1haWwvYnJvd3NlclwiO1xuaW1wb3J0IHRvU29saWRpdHkgZnJvbSBcIi4vcGFyc2UtZW1haWwvdXRpbHMvdG9Tb2xpZGl0eVwiO1xuXG5jb25zdCB2ZXJpZnkgPSAoZW1haWw6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgREtJTSA9IGF3YWl0IGV0aC5nZXRDb250cmFjdChcIkRLSU1cIikuY2F0Y2gocmVqZWN0KTtcblxuICAgIGNvbnN0IGRraW1zID0gYXdhaXQgcGFyc2VFbWFpbChlbWFpbCk7XG5cbiAgICBjb25zdCBka2ltc0luQnl0ZXMgPSBka2ltcy5tYXAoZGtpbSA9PiB7XG4gICAgICByZXR1cm4gdG9Tb2xpZGl0eSh7XG4gICAgICAgIGFsZ29yaXRobTogZGtpbS5hbGdvcml0aG0sXG4gICAgICAgIGhhc2g6IGRraW0uaGFzaCxcbiAgICAgICAgc2lnbmF0dXJlOiBka2ltLnNpZ25hdHVyZS5zaWduYXR1cmUsXG4gICAgICAgIGV4cG9uZW50OiBka2ltLmV4cG9uZW50LFxuICAgICAgICBtb2R1bHVzOiBka2ltLm1vZHVsdXNcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gUHJvbWlzZS5hbGwoXG4gICAgICBka2ltc0luQnl0ZXMubWFwKChka2ltLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiBES0lNLnZlcmlmeShcbiAgICAgICAgICBka2ltLmFsZ29yaXRobSxcbiAgICAgICAgICBka2ltLmhhc2gsXG4gICAgICAgICAgZGtpbS5zaWduYXR1cmUsXG4gICAgICAgICAgZGtpbS5leHBvbmVudCxcbiAgICAgICAgICBka2ltLm1vZHVsdXNcbiAgICAgICAgKS50aGVuKHJlcyA9PiAoe1xuICAgICAgICAgIG5hbWU6IGRraW1zW2ldLmVudHJ5Lm5hbWUsXG4gICAgICAgICAgdmVyaWZpZWQ6IHJlc1tcIjBcIl1cbiAgICAgICAgfSkpO1xuICAgICAgfSlcbiAgICApLmNhdGNoKHJlamVjdCk7XG5cbiAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICB9KTtcbn07XG5cbmNvbnN0IEhvbWUgPSBvYnNlcnZlcigoKSA9PiB7XG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFt2ZXJpZmllZCwgc2V0VmVyaWZpZWRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZHJhZ2dpbmcsIHNldERyYWddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBkaXNhYmxlZCA9XG4gICAgIWV0aC5pc0luc3RhbGxlZCB8fFxuICAgICEoZXRoLm5ldHdvcmsgPT09IFwic2Vwb2xpYVwiIHx8IGV0aC5uZXR3b3JrID09PSBcInVua25vd24gbmV0d29ya1wiKTtcblxuICBjb25zdCBvbkRyb3AgPSB1c2VDYWxsYmFjayhmaWxlcyA9PiB7XG4gICAgc2V0RW1haWwobnVsbCk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0VmVyaWZpZWQoW10pO1xuXG4gICAgaWYgKGZpbGVzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybiBzZXRFcnJvcihcIm5vIGZpbGUgaW5jbHVkZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGZpbGUgPSBmaWxlc1swXTtcblxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICByZWFkZXIub25hYm9ydCA9ICgpID0+IHNldEVycm9yKFwiZmlsZSByZWFkaW5nIHdhcyBhYm9ydGVkXCIpO1xuICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gc2V0RXJyb3IoXCJmaWxlIHJlYWRpbmcgaGFzIGZhaWxlZFwiKTtcbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4gc2V0RW1haWwocmVhZGVyLnJlc3VsdCk7XG5cbiAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgIDxoMj5zb2xpZGl0eS1ka2ltIGRlbW88L2gyPlxuXG4gICAgICA8TWV0YW1hc2sgLz5cbiAgICAgIDxEcm9wem9uZVxuICAgICAgICBvbkRyb3A9e29uRHJvcH1cbiAgICAgICAgbXVsdGlwbGU9e2ZhbHNlfVxuICAgICAgICBvbkRyYWdFbnRlcj17KCkgPT4gc2V0RHJhZyh0cnVlKX1cbiAgICAgICAgb25EcmFnTGVhdmU9eygpID0+IHNldERyYWcoZmFsc2UpfVxuICAgICAgPlxuICAgICAgICB7KHsgZ2V0Um9vdFByb3BzLCBnZXRJbnB1dFByb3BzIH0pID0+IChcbiAgICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgey4uLmdldFJvb3RQcm9wcyh7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjUwdndcIixcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIzMHZoXCIsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjpcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmcgfHwgZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiM3B4IHNvbGlkICMzODdmYzdcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCIzcHggZGFzaGVkICMzODdmYzdcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjUwcHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXQgey4uLmdldElucHV0UHJvcHMoKX0gLz5cbiAgICAgICAgICAgICAge2VtYWlsID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZVVwbG9hZGVkXCI+XG4gICAgICAgICAgICAgICAgICA8SW5zZXJ0RHJpdmVGaWxlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBcIjh2aFwiLCB3aWR0aDogXCJhdXRvXCIsIGNvbG9yOiBcIiMzOTdlYzdcIiB9fVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBGSUxFIExPQURFRFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZVVwbG9hZGVkXCI+XG4gICAgICAgICAgICAgICAgICA8QXR0YWNoRmlsZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IFwiOHZoXCIsIHdpZHRoOiBcImF1dG9cIiwgY29sb3I6IFwiIzM5N2VjN1wiIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHA+RHJhZyAnbicgZHJvcCBzb21lIGZpbGVzIGhlcmUsIG9yIGNsaWNrIHRvIHNlbGVjdCBmaWxlczwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvRHJvcHpvbmU+XG5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICB2ZXJpZnkoZW1haWwpXG4gICAgICAgICAgICAudGhlbihzZXRWZXJpZmllZClcbiAgICAgICAgICAgIC5jYXRjaChzZXRFcnJvcilcbiAgICAgICAgfVxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICA+XG4gICAgICAgIFZlcmlmeVxuICAgICAgPC9idXR0b24+XG4gICAgICB7ZXJyb3IgPyAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImVycm9yXCI+ZXJyb3I6IHtlcnJvcn08L3A+XG4gICAgICApIDogdmVyaWZpZWQubGVuZ3RoID4gMCA/IChcbiAgICAgICAgdmVyaWZpZWQubWFwKHJlc3VsdCA9PlxuICAgICAgICAgIHJlc3VsdC52ZXJpZmllZCA/IChcbiAgICAgICAgICAgIDxoMSBrZXk9e3Jlc3VsdC5uYW1lfSBjbGFzc05hbWU9XCJ2ZXJpZmllZFwiPlxuICAgICAgICAgICAgICB7cmVzdWx0Lm5hbWV9OiB2ZXJpZmllZCEg8J+OiVxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGgxIGtleT17cmVzdWx0Lm5hbWV9IGNsYXNzTmFtZT1cIm5vdC12ZXJpZmllZFwiPlxuICAgICAgICAgICAgICB7cmVzdWx0Lm5hbWV9OiBub3QgdmVyaWZpZWQg8J+YlFxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICkgOiAoXG4gICAgICAgIFwiXCJcbiAgICAgICl9XG5cbiAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICAgICAgICAgIGNvbG9yOiAjMDAzYzdkO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIHdpZHRoOiAxMDB2dztcbiAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgIGJhY2tncm91bmQ6IGFsaWNlYmx1ZTtcbiAgICAgICAgfVxuICAgICAgICBoMiB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMTAwcHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgfVxuICAgICAgICBoMSB7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjMzk3ZWM3O1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBvcGFjaXR5OiAke2Rpc2FibGVkID8gXCIwLjVcIiA6IFwiMVwifTtcbiAgICAgICAgfVxuICAgICAgICAuZXJyb3Ige1xuICAgICAgICAgIGNvbG9yOiAjZDYwMDAwO1xuICAgICAgICB9XG4gICAgICAgIC52ZXJpZmllZCB7XG4gICAgICAgICAgY29sb3I6ICMwMGJiMzk7XG4gICAgICAgIH1cbiAgICAgICAgLm5vdC12ZXJpZmllZCB7XG4gICAgICAgICAgY29sb3I6ICNkNjAwMDA7XG4gICAgICAgIH1cbiAgICAgICAgLmZpbGVVcGxvYWRlZCB7XG4gICAgICAgICAgaGVpZ2h0OiAxMnZoO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSG9tZTtcbiJdfQ== */\\n/*@ sourceURL=/home/estojnovsky/Dev/Ambire/dkmi/solidity-dkim/client/src/Home.tsx */\")));\n});\nexport default Home;","map":{"version":3,"sources":["/home/estojnovsky/Dev/Ambire/dkmi/solidity-dkim/client/src/Home.tsx"],"names":["useState","useCallback","observer","Dropzone","Metamask","eth","InsertDriveFileOutlined","AttachFile","parseEmail","toSolidity","verify","email","resolve","reject","getContract","DKIM","dkims","dkimsInBytes","map","dkim","algorithm","hash","signature","exponent","modulus","result","all","i","then","res","name","entry","verified","Home","setEmail","error","setError","setVerified","dragging","setDrag","disabled","isInstalled","network","onDrop","files","length","file","reader","FileReader","onabort","onerror","onload","readAsText","getRootProps","getInputProps","style","width","height","alignItems","justifyContent","display","border","backgroundColor","margin","borderRadius","cursor","color"],"mappings":"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","sourcesContent":["import { useState, useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport Dropzone from \"react-dropzone\";\nimport Metamask from \"./components/MetaMask\";\nimport eth from \"./stores/eth\";\nimport { InsertDriveFileOutlined, AttachFile } from \"@material-ui/icons\";\nimport parseEmail from \"./parse-email/browser\";\nimport toSolidity from \"./parse-email/utils/toSolidity\";\n\nconst verify = (email: string): Promise<any> => {\n  return new Promise(async (resolve, reject) => {\n    const DKIM = await eth.getContract(\"DKIM\").catch(reject);\n\n    const dkims = await parseEmail(email);\n\n    const dkimsInBytes = dkims.map(dkim => {\n      return toSolidity({\n        algorithm: dkim.algorithm,\n        hash: dkim.hash,\n        signature: dkim.signature.signature,\n        exponent: dkim.exponent,\n        modulus: dkim.modulus\n      });\n    });\n\n    const result = Promise.all(\n      dkimsInBytes.map((dkim, i) => {\n        return DKIM.verify(\n          dkim.algorithm,\n          dkim.hash,\n          dkim.signature,\n          dkim.exponent,\n          dkim.modulus\n        ).then(res => ({\n          name: dkims[i].entry.name,\n          verified: res[\"0\"]\n        }));\n      })\n    ).catch(reject);\n\n    return resolve(result);\n  });\n};\n\nconst Home = observer(() => {\n  const [email, setEmail] = useState(null);\n  const [error, setError] = useState(null);\n  const [verified, setVerified] = useState([]);\n  const [dragging, setDrag] = useState(false);\n  const disabled =\n    !eth.isInstalled ||\n    !(eth.network === \"sepolia\" || eth.network === \"unknown network\");\n\n  const onDrop = useCallback(files => {\n    setEmail(null);\n    setError(null);\n    setVerified([]);\n\n    if (files.length < 1) {\n      return setError(\"no file included\");\n    }\n    const file = files[0];\n\n    const reader = new FileReader();\n\n    reader.onabort = () => setError(\"file reading was aborted\");\n    reader.onerror = () => setError(\"file reading has failed\");\n    reader.onload = () => setEmail(reader.result);\n\n    reader.readAsText(file);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h2>solidity-dkim demo</h2>\n\n      <Metamask />\n      <Dropzone\n        onDrop={onDrop}\n        multiple={false}\n        onDragEnter={() => setDrag(true)}\n        onDragLeave={() => setDrag(false)}\n      >\n        {({ getRootProps, getInputProps }) => (\n          <section>\n            <div\n              {...getRootProps({\n                style: {\n                  width: \"50vw\",\n                  height: \"30vh\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  display: \"flex\",\n                  border:\n                    dragging || email\n                      ? \"3px solid #387fc7\"\n                      : \"3px dashed #387fc7\",\n                  backgroundColor: \"white\",\n                  margin: \"50px\",\n                  borderRadius: \"3px\",\n                  cursor: \"pointer\"\n                }\n              })}\n            >\n              <input {...getInputProps()} />\n              {email ? (\n                <div className=\"fileUploaded\">\n                  <InsertDriveFileOutlined\n                    style={{ height: \"8vh\", width: \"auto\", color: \"#397ec7\" }}\n                  />{\" \"}\n                  FILE LOADED\n                </div>\n              ) : (\n                <div className=\"fileUploaded\">\n                  <AttachFile\n                    style={{ height: \"8vh\", width: \"auto\", color: \"#397ec7\" }}\n                  />\n                  <p>Drag 'n' drop some files here, or click to select files</p>\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n      </Dropzone>\n\n      <button\n        onClick={() =>\n          verify(email)\n            .then(setVerified)\n            .catch(setError)\n        }\n        disabled={disabled}\n      >\n        Verify\n      </button>\n      {error ? (\n        <p className=\"error\">error: {error}</p>\n      ) : verified.length > 0 ? (\n        verified.map(result =>\n          result.verified ? (\n            <h1 key={result.name} className=\"verified\">\n              {result.name}: verified! 🎉\n            </h1>\n          ) : (\n            <h1 key={result.name} className=\"not-verified\">\n              {result.name}: not verified 😔\n            </h1>\n          )\n        )\n      ) : (\n        \"\"\n      )}\n\n      <style jsx global>{`\n        body {\n          margin: 0;\n          padding: 0;\n          font-family: sans-serif;\n          color: #003c7d;\n        }\n      `}</style>\n\n      <style jsx>{`\n        .container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: flex-start;\n          width: 100vw;\n          height: 100vh;\n          background: aliceblue;\n        }\n        h2 {\n          margin-top: 100px;\n          margin-bottom: 30px;\n        }\n        h1 {\n        }\n        button {\n          height: 30px;\n          width: 120px;\n          border-radius: 3px;\n          background: #397ec7;\n          color: white;\n          border: none;\n          font-family: sans-serif;\n          font-size: 16px;\n          cursor: pointer;\n          opacity: ${disabled ? \"0.5\" : \"1\"};\n        }\n        .error {\n          color: #d60000;\n        }\n        .verified {\n          color: #00bb39;\n        }\n        .not-verified {\n          color: #d60000;\n        }\n        .fileUploaded {\n          height: 12vh;\n          justify-content: center;\n          align-items: center;\n          display: flex;\n          flex-direction: column;\n        }\n      `}</style>\n    </div>\n  );\n});\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}